(()=>{var e={};e.id=931,e.ids=[931],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},22175:(e,n,r)=>{"use strict";r.r(n),r.d(n,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=r(67096),s=r(16132),l=r(37284),a=r.n(l),o=r(32564),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(n,i);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83982)),"C:\\Users\\PRABHAT KUMAR\\Downloads\\frontend-surfey\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,94481)),"C:\\Users\\PRABHAT KUMAR\\Downloads\\frontend-surfey\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\PRABHAT KUMAR\\Downloads\\frontend-surfey\\app\\page.tsx"],u="/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},40074:(e,n,r)=>{Promise.resolve().then(r.bind(r,69532)),Promise.resolve().then(r.bind(r,6800)),Promise.resolve().then(r.bind(r,3464))},3464:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>components_DataTable});var t=r(30784),s=r(9885),l=r.n(s),a=r(87771),o=r(86833),i=r(52694),d=r.n(i),c=r(92870),u=r.n(c),p=r(16614),x=r.n(p),h=r(68101),m=r.n(h),g=r(77523),j=r.n(g),f=r(70138),b=r.n(f),v=r(44233),C=r.n(v),y=r(80765),_=r.n(y),P=r(13495),k=r.n(P),w=r(24608),A=r.n(w),S=r(48060),D=r.n(S),M=r(15061),T=r.n(M),E=r(15922),R=r(86498),N=r(69034),q=r(30237),B=r(42928),I=r(48935),U=r(62969),K=r.n(U),L=r(42153),V=r.n(L),W=r(16856),Z=r.n(W),G=r(26017),H=r.n(G),z=r(16061),F=r.n(z),O=r(95915),X=r.n(O),$=r(36990);let components_ManageColumnsModal=({open:e,onClose:n})=>{let r=(0,a.I0)(),s=(0,a.v9)(e=>e.table.columns),[i,d]=l().useState(""),[c,p]=l().useState("");return(0,t.jsxs)(K(),{open:e,onClose:n,maxWidth:"sm",fullWidth:!0,children:[t.jsx(V(),{children:"Manage Columns"}),(0,t.jsxs)(Z(),{children:[t.jsx($.Z5,{onDragEnd:e=>{if(!e.destination)return;let n=Array.from(s),[t]=n.splice(e.source.index,1);n.splice(e.destination.index,0,t),r((0,o.Bx)(n))},children:t.jsx($.bK,{droppableId:"cols",children:e=>(0,t.jsxs)("div",{ref:e.innerRef,...e.droppableProps,style:{display:"flex",flexDirection:"column",gap:4},children:[s.map((e,n)=>t.jsx($._l,{draggableId:e.key,index:n,children:n=>t.jsx("div",{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,style:{display:"flex",alignItems:"center",gap:4,background:"#f7f7f7",borderRadius:6,padding:"4px 8px",...n.draggableProps.style},children:t.jsx(H(),{control:t.jsx(F(),{checked:e.visible,onChange:()=>r((0,o.u$)(e.key))}),label:`${e.label} (${e.key})`})})},e.key)),e.placeholder]})})}),(0,t.jsxs)("div",{style:{display:"flex",gap:8,marginTop:16,flexWrap:"wrap"},children:[t.jsx(u(),{value:i,onChange:e=>d(e.target.value),placeholder:"field key (e.g. department)",size:"small"}),t.jsx(u(),{value:c,onChange:e=>p(e.target.value),placeholder:"label (e.g. Department)",size:"small"}),t.jsx(x(),{onClick:()=>{if(!i.trim()||!c.trim())return;let e=[...s,{key:i,label:c,visible:!0}];r((0,o.Bx)(e)),d(""),p("")},variant:"outlined",children:"Add"})]})]}),t.jsx(X(),{children:t.jsx(x(),{onClick:n,children:"Close"})})]})};var Q=r(11166),J=r.n(Q),Y=r(79067);async function importCSV(e){return new Promise((n,r)=>{J().parse(e,{header:!0,skipEmptyLines:!0,complete:e=>{e.errors&&e.errors.length?r(e.errors):n(e.data)}})})}function exportCSV(e,n){let r=e.map(e=>{let r={};return n.forEach(n=>r[n.label]=e[n.key]),r}),t=J().unparse(r),s=new Blob([t],{type:"text/csv;charset=utf-8;"});(0,Y.saveAs)(s,"export.csv")}let components_DataTable=()=>{let e=(0,a.I0)(),n=(0,a.v9)(e=>e.table.rows),r=(0,a.v9)(e=>e.table.columns),[l,i]=(0,s.useState)(""),[c,p]=(0,s.useState)(0),[h,g]=(0,s.useState)(!1),[f,v]=(0,s.useState)(null),[y,P]=(0,s.useState)(null),[w,S]=(0,s.useState)(null),[M,U]=(0,s.useState)({}),K=(0,s.useMemo)(()=>r.filter(e=>e.visible),[r]),L=(0,s.useMemo)(()=>{let e=n;if(l){let n=l.toLowerCase();e=e.filter(e=>K.some(r=>String(e[r.key]??"").toLowerCase().includes(n)))}return f&&y&&(e=[...e].sort((e,n)=>{let r=e[f],t=n[f];if(!isNaN(Number(r))&&!isNaN(Number(t)))return"asc"===y?Number(r)-Number(t):Number(t)-Number(r);let s=(r??"").toString().toLowerCase(),l=(t??"").toString().toLowerCase();return s<l?"asc"===y?-1:1:s>l?"asc"===y?1:-1:0})),e},[n,l,K,f,y]),handleDelete=n=>{confirm("Delete this row?")&&e((0,o.qK)(n))},handleImport=async n=>{let r=n.target.files?.[0];if(r){try{let n=await importCSV(r);if(n.length){let r=n.map((e,n)=>({id:String(Date.now()+n),...e}));e((0,o.P5)(r))}else alert("No rows parsed or invalid CSV")}catch(e){alert("CSV parse error")}n.currentTarget.value=""}},handleSort=e=>{if(f!==e){v(e),P("asc");return}"asc"===y?P("desc"):"desc"===y?P(null):P("asc")},handleEdit=e=>{let r=n.find(n=>n.id===e);r&&(S(e),U(r))},handleCancel=()=>{S(null),U({})},handleSave=()=>{if(w){if(M.age&&isNaN(Number(M.age))){alert("Age must be a number");return}e((0,o.RQ)(M)),S(null),U({})}};return(0,t.jsxs)(d(),{sx:{p:2},children:[(0,t.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:12,alignItems:"center"},children:[t.jsx(u(),{size:"small",placeholder:"Search...",value:l,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(p(0),setTimeout(()=>i(""),1e3))},onBlur:()=>{""!==l.trim()&&setTimeout(()=>i(""),1e3)}}),(0,t.jsxs)(x(),{startIcon:t.jsx(B.Z,{}),component:"label",children:["Import",t.jsx("input",{hidden:!0,type:"file",accept:"text/csv",onChange:handleImport})]}),t.jsx(x(),{onClick:()=>exportCSV(L,K),startIcon:t.jsx(I.Z,{}),children:"Export CSV"}),t.jsx(x(),{onClick:()=>g(!0),children:"Manage Columns"}),t.jsx(x(),{variant:"outlined",color:"success",onClick:()=>{alert("All changes saved!")},children:"Save All"}),t.jsx(x(),{variant:"outlined",color:"error",onClick:()=>{window.location.reload()},children:"Cancel All"})]}),t.jsx(m(),{sx:{overflowX:"auto"},children:(0,t.jsxs)(j(),{children:[t.jsx(b(),{children:(0,t.jsxs)(C(),{children:[K.map(e=>t.jsx(_(),{children:t.jsx(k(),{active:f===e.key&&!!y,direction:null===y?"asc":y,onClick:()=>handleSort(e.key),children:e.label})},e.key)),t.jsx(_(),{children:"Actions"})]})}),t.jsx(A(),{children:L.slice(10*c,10*c+10).map(e=>(0,t.jsxs)(C(),{children:[K.map(n=>t.jsx(_(),{children:w===e.id?t.jsx(u(),{size:"small",value:M[n.key]??"",onChange:e=>U({...M,[n.key]:e.target.value})}):String(e[n.key]??"")},n.key)),t.jsx(_(),{children:w===e.id?(0,t.jsxs)(t.Fragment,{children:[t.jsx(D(),{onClick:handleSave,color:"success",children:t.jsx(R.Z,{})}),t.jsx(D(),{onClick:handleCancel,color:"error",children:t.jsx(N.Z,{})})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(D(),{onClick:()=>handleEdit(e.id),children:t.jsx(E.Z,{})}),t.jsx(D(),{onClick:()=>handleDelete(e.id),children:t.jsx(q.Z,{})})]})})]},e.id))})]})}),t.jsx(T(),{component:"div",count:L.length,page:c,onPageChange:(e,n)=>{let r=Math.max(0,Math.ceil(L.length/10)-1);n>=0&&n<=r&&p(n)},rowsPerPage:10,onRowsPerPageChange:()=>{},rowsPerPageOptions:[10],labelRowsPerPage:""}),t.jsx(components_ManageColumnsModal,{open:h,onClose:()=>g(!1)})]})}},83982:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var t=r(4656),s=r(81345),l=r.n(s),a=r(39229),o=r.n(a);let i=l()(()=>r.e(556).then(r.bind(r,2556)),{loadableGenerated:{modules:["C:\\Users\\PRABHAT KUMAR\\Downloads\\frontend-surfey\\app\\page.tsx -> @/components/DataTable"]},ssr:!1}),__WEBPACK_DEFAULT_EXPORT__=()=>(0,t.jsxs)(o(),{maxWidth:"lg",style:{marginTop:24},children:[t.jsx("h1",{children:"Dynamic Data Table Manager"}),t.jsx(i,{})]})}};var n=require("../webpack-runtime.js");n.C(e);var __webpack_exec__=e=>n(n.s=e),r=n.X(0,[125,303,753],()=>__webpack_exec__(22175));module.exports=r})();